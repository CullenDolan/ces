<!DOCTYPE HTML>

<html>
	<head>
		<title>Clound Engineering Solutions</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<script>
			// define the callAPI function that takes a first name and last name as parameters
			var callAPI = (Name,email,Message)=>{
				// instantiate a headers object
				var myHeaders = new Headers();
				// add content type header to object
				myHeaders.append("Content-Type", "application/json");
				// using built in JSON utility package turn object to string and store in a variable
				var raw = JSON.stringify({"Name":Name,"email":email,"Message":Message});
				// create a JSON object with parameters for API call and store in a variable
				var requestOptions = {
					method: 'POST',
					headers: myHeaders,
					body: raw,
					redirect: 'follow'
				};
				// make API call with parameters and use promises to get response
				fetch("https://90881om491.execute-api.us-east-1.amazonaws.com/prod", requestOptions)
				.then(response => response.text())
				.then(result => alert(JSON.parse(result).body))
				.catch(error => console.log('error', error));
				$('#contactform')[0].reset();
			}
		</script>
	</head>
	<body class="subpage">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="index.html" class="logo"><strong>Cloud Engineering Solutions</strong></a>
					<nav id="nav">
						<a href="index.html">Home</a>
						<a href="solutions.html">Solutions</a>
						<a href="contact.html">Contact</a>
					</nav>
					<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
				</div>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="inner">
					<header class="align-center">
						<h2>Contact</h2>
						<p>Complete the form below or email cullen@cloudengineeringsolutions.com <cullen@cloudengineeringsolutions class="com"></p>
					</header>
					</div>
					</section>



		<!-- Footer -->
			<footer id="footer">
				<div class="inner">

					<h3>Get in touch</h3>

					<form id="contactform" action="https://90881om491.execute-api.us-east-1.amazonaws.com/prod" method="POST">
						<div class="field half first">
							<label for="Name">Name</label>
							<input name="Name" id="Name" type="text" placeholder="Name">
						</div>
						<div class="field half">
							<label for="email">Email</label>
							<input name="email" id="email" type="email" placeholder="Email" pattern=".+@globex.com">
						</div>
						<div class="field">
							<label for="Message">Message</label>
							<textarea name="Message" id="Message" rows="6" placeholder="Message"></textarea>
						</div>
						<!-- set button onClick method to call function we defined passing input values as parameters -->
						<ul class="actions">
							<li><input onclick="callAPI(document.getElementById('Name').value,document.getElementById('email').value,document.getElementById('Message').value)" value="Send Message" class="button alt" type="button" id="btnsumbit"></li>
						</ul>
					</form>

					<div class="copyright">
						&copy; Cloud Engineering Solutions LLC
					</div>

				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>